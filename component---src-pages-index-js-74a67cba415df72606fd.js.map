{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/templates/Bio.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/templates/avatar.jpg","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/globalThis.js","webpack:///./src/templates/components/ThemeToggle.jsx","webpack:///./src/templates/components/Transition.jsx","webpack:///./src/templates/Layout.js"],"names":["BlogNav","_ref","to","title","date","spoiler","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","style","marginBottom","rhythm","gatsby_link__WEBPACK_IMPORTED_MODULE_5___default","tabIndex","boxShadow","dangerouslySetInnerHTML","__html","BlogIndex","_ref2","location","data","navigate","siteTitle","site","siteMetadata","posts","allMarkdownRemark","edges","menuRef","useRef","selectedIndex","globalThis","localStorage","getItem","useEffect","index","current","Number","isNaN","firstChild","children","focus","setItem","lastKey","onKeyDownHandler","useCallback","e","key","toLowerCase","preventDefault","length","document","body","scrollIntoView","shiftKey","metaKey","window","addEventListener","removeEventListener","_templates_Layout__WEBPACK_IMPORTED_MODULE_8__","react_helmet__WEBPACK_IMPORTED_MODULE_7___default","htmlAttributes","lang","ref","downshift__WEBPACK_IMPORTED_MODULE_4__","defaultIsOpen","initialIsOpen","itemToString","item","_ref3","getMenuProps","getItemProps","suppressRefError","map","_ref4","node","blogUrl","fields","slug","_node$frontmatter","frontmatter","_node$frontmatter$tit","Object","assign","onKeyDown","pathname","replace","excerpt","pageQuery","m","module","exports","require","default","Aside","styled","aside","_templateObject","Bio","react__WEBPACK_IMPORTED_MODULE_1___default","display","alignItems","src","profilePic","alt","marginRight","borderRadius","width","height","role","aria-label","href","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","d","__webpack_exports__","React","createContext","PropTypes","object","string","isRequired","func","p","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","json","propTypes","shape","defineProperty","prototype","get","this","foobar","configurable","noop","Toggle","onChange","props","objectWithoutPropertiesLoose_default","disabled","icons","onFocus","checked","inputProps","input","touchParams","moved","previouslyChecked","defaultChecked","touchMoved","startX","hadFocusAtTouchStart","touchStarted","_useState","useState","hasFocus","setFocus","handleClick","event","checkbox","target","click","handleFocus","getIcon","type","undefined","defaultProps","classes","react_default","onClick","homeSlideIn","keyframes","homeSlideOut","_templateObject2","detailSlideIn","_templateObject3","detailSlideOut","_templateObject4","Home","div","_templateObject5","Detail","_templateObject6","HomeLink","Link","attrs","Layout_templateObject","Header","header","Layout_templateObject2","BlogTitle","isRoot","scale","marginTop","fontFamily","BlogHeader","cacheTheme","setChecked","colorSchemeChanged","matches","media","matchMedia","addListener","removeListener","Fragment","Layout_BlogTitle","ThemeToggle","unchecked","theme","Layout","rootPath","__PATH_PREFIX__","Container","Layout_BlogHeader"],"mappings":"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","file":"component---src-pages-index-js-74a67cba415df72606fd.js","sourcesContent":["import Downshift from 'downshift';\nimport { graphql } from 'gatsby';\nimport Link from 'gatsby-link';\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport Helmet from 'react-helmet';\n\nimport Layout from '../templates/Layout';\nimport { rhythm } from '../utils/typography';\n\nconst BlogNav = ({ to, title, date, spoiler }) => (\n  <article>\n    <h3\n      className=\"blog-index\"\n      style={{\n        marginBottom: rhythm(1 / 4),\n      }}\n    >\n      <Link tabIndex={-1} style={{ boxShadow: 'none' }} to={to}>\n        {title}\n      </Link>\n    </h3>\n    <time>\n      <small>{date}</small>\n    </time>\n    <p\n      dangerouslySetInnerHTML={{\n        __html: spoiler,\n      }}\n    />\n  </article>\n);\n\n// TODO: ä½¿ç”¨è‡ªå·±çš„ useVimShortcut é‡æž„\nconst BlogIndex = ({ location, data, navigate }) => {\n  const siteTitle = data.site.siteMetadata.title;\n  const posts = data.allMarkdownRemark.edges;\n\n  const menuRef = useRef();\n  const selectedIndex = useRef(\n    +globalThis.localStorage.getItem('selectedIndex') || -1\n  );\n  useEffect(() => {\n    // FIXME: æ˜¯å¦éœ€è¦æ”¹æˆ contextï¼Œå¹¶å°† keyboard çš„äº‹ä»¶æŠ½å‡ºæ¥ï¼Ÿ\n    const index = selectedIndex.current;\n    if (menuRef.current && !Number.isNaN(index) && index !== -1) {\n      // @ts-ignore\n      menuRef.current.firstChild.children[index].focus();\n      globalThis.localStorage.setItem('selectedIndex', null);\n    }\n  }, [menuRef]);\n\n  const lastKey = useRef();\n  const onKeyDownHandler = useCallback(\n    e => {\n      const key = e.key.toLowerCase();\n      let index = selectedIndex.current;\n      switch (key) {\n        case 'tab': {\n          e.preventDefault();\n          break;\n        }\n        case 'arrowdown':\n        case 'j': {\n          if (index < posts.length - 1) selectedIndex.current = ++index;\n          menuRef.current.firstChild.children[index].focus();\n          break;\n        }\n        case 'arrowup':\n        case 'k': {\n          if (index < 1) return;\n          selectedIndex.current = --index;\n          menuRef.current.firstChild.children[index].focus();\n          if (!index) {\n            document.body.scrollIntoView();\n          }\n          break;\n        }\n        case 'g': {\n          if (e.shiftKey) {\n            selectedIndex.current = index = posts.length - 1;\n          } else if (\n            e.key === lastKey.current.key &&\n            e.metaKey === lastKey.current.metaKey\n          ) {\n            selectedIndex.current = index = 0;\n          }\n          menuRef.current.firstChild.children[index].focus();\n          break;\n        }\n        default:\n          break;\n      }\n      lastKey.current = e;\n    },\n    [posts.length]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', onKeyDownHandler);\n    return () => {\n      window.removeEventListener('keydown', onKeyDownHandler);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <Helmet title={siteTitle} htmlAttributes={{ lang: 'zh-cn' }} />\n      <nav ref={menuRef}>\n        <Downshift\n          defaultIsOpen\n          initialIsOpen\n          itemToString={item => (item ? item.title : '')}\n        >\n          {({ getMenuProps, getItemProps }) => (\n            <ol {...getMenuProps({}, { suppressRefError: true })}>\n              {posts.map(({ node }, index) => {\n                const blogUrl = node.fields.slug;\n                const { title = blogUrl, spoiler, date } = node.frontmatter;\n                return (\n                  <li\n                    tabIndex={0}\n                    {...getItemProps({\n                      key: node.fields.slug,\n                      index,\n                      onKeyDown(e) {\n                        e.preventDefault();\n                        const key = e.key.toLowerCase();\n                        switch (key) {\n                          case 'enter':\n                          case ' ':\n                            localStorage.setItem('selectedIndex', index);\n                            navigate(\n                              (location.pathname + blogUrl).replace(\n                                /\\/{2}/g,\n                                '/'\n                              )\n                            );\n                            break;\n                          default:\n                            break;\n                        }\n                      },\n                      item: node.frontmatter,\n                      // style: {\n                      //   backgroundColor:\n                      //     highlightedIndex === index ? 'aliceblue' : 'var(--bg)',\n                      // },\n                    })}\n                  >\n                    <BlogNav\n                      to={blogUrl}\n                      title={title}\n                      date={date}\n                      spoiler={spoiler || node.excerpt}\n                    />\n                  </li>\n                );\n              })}\n            </ol>\n          )}\n        </Downshift>\n      </nav>\n    </Layout>\n  );\n};\nexport default BlogIndex;\n\nexport const pageQuery = graphql`\n  query IndexQuery {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"YYYY/MM/DD\")\n            title\n            spoiler\n          }\n        }\n      }\n    }\n  }\n`;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { rhythm } from '../utils/typography';\nimport profilePic from './avatar.jpg';\n\nconst Aside = styled.aside`\n  display: flex;\n  flex-direction: column;\n  h3 {\n    margin: 8px 0;\n    font-size: 16px;\n  }\n`;\n\nconst Bio = () => (\n  <figure\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n    }}\n  >\n    <img\n      src={profilePic}\n      alt={`A cat named musa`}\n      style={{\n        marginRight: rhythm(1 / 2),\n        marginBottom: 0,\n        borderRadius: '50%',\n        width: rhythm(2),\n        height: rhythm(2),\n      }}\n    />\n    <Aside>\n      <h3>\n        <span role=\"img\" aria-label=\"personal blogs\">\n          ðŸ‘¤ ðŸ“œ\n        </span>{' '}\n        by <a href=\"http://github.com/thoamsy\">thoamsy</a>\n      </h3>\n      <h3>Write some personal summary</h3>\n    </Aside>\n  </figure>\n);\n\nexport default Bio;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","module.exports = __webpack_public_path__ + \"static/avatar-6c83ccb0db60a97539ade1fe12738717.jpg\";","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","/* eslint-disable */\n(function(Object) {\n  if (typeof globalThis === 'object') {\n    return;\n  }\n  Object.defineProperty(Object.prototype, 'foobar', {\n    get() {\n      this.globalThis = this;\n      delete Object.prototype.foobar;\n    },\n    configurable: true,\n  }),\n    foobar;\n})(Object);\n","import React, { useCallback, useRef, useState } from 'react';\nimport './Toggle.css';\n\nconst noop = () => {};\n// Copyright 2015-present Drifty Co.\n// http://drifty.com/\n// from: https://github.com/driftyco/ionic/blob/master/src/util/dom.ts\nfunction pointerCoord(event) {\n  // get coordinates for either a mouse click\n  // or a touch depending on the given event\n  if (event) {\n    const changedTouches = event.changedTouches;\n    if (changedTouches && changedTouches.length > 0) {\n      const touch = changedTouches[0];\n      return { x: touch.clientX, y: touch.clientY };\n    }\n    const pageX = event.pageX;\n    if (pageX !== undefined) {\n      return { x: pageX, y: event.pageY };\n    }\n  }\n  return { x: 0, y: 0 };\n}\n\nconst Toggle = ({ onChange, ...props }) => {\n  const { className, icons: _icons, disabled, onFocus, checked, ...inputProps } = props;\n  const input = useRef(null);\n  const touchParams = useRef({\n    moved: false,\n    previouslyChecked: !!(props.checked || props.defaultChecked),\n    touchMoved: false,\n    startX: null,\n    hadFocusAtTouchStart: false,\n    touchStarted: false,\n  });\n  const [hasFocus, setFocus] = useState(false);\n\n  const handleClick = useCallback(\n    event => {\n      const checkbox = input.current;\n      touchParams.current.previouslyChecked = checkbox.checked;\n\n      if (event.target !== checkbox && touchParams.current.moved) {\n        event.preventDefault();\n        checkbox.focus();\n        checkbox.click();\n        return;\n      }\n      onChange(!checkbox.checked);\n    },\n    [onChange]\n  );\n\n/*   const handleTouchStart = useCallback(\n    event => {\n      Object.assign(touchParams.current, {\n        startX: pointerCoord(event).x,\n        touchStarted: true,\n        hadFocusAtTouchStart: hasFocus,\n      });\n      setFocus(true);\n    },\n    [hasFocus]\n  );\n\n  const handleTouchMove = useCallback(\n    event => {\n      if (!touchParams.current.touchStarted) return;\n      touchParams.current.touchMoved = true;\n\n      const { startX } = touchParams.current;\n      if (startX != null) {\n        let currentX = pointerCoord(event).x;\n        if (checked && currentX + 15 < startX) {\n          onChange(false);\n          touchParams.current.startX = currentX;\n        } else if (!checked && currentX - 15 > startX) {\n          onChange(true);\n          touchParams.current.startX = currentX;\n        }\n      }\n    },\n    [checked, onChange]\n  );\n\n  const handleTouchEnd = useCallback(\n    event => {\n      const {\n        touchMoved,\n        startX,\n        previouslyChecked,\n        hadFocusAtTouchStart,\n      } = touchParams.current;\n      if (!touchMoved) return;\n      const checkbox = input.current;\n      event.preventDefault();\n\n      if (startX != null) {\n        if (previouslyChecked !== checked) {\n          checkbox.click();\n        }\n\n        Object.assign(touchParams.current, {\n          touchedStarted: false,\n          startX: null,\n          touchMoved: false,\n        });\n      }\n\n      if (!hadFocusAtTouchStart) {\n        setFocus(false);\n      }\n    },\n    [checked]\n  ); \n\n    const handleTouchCancel = useCallback(() => {\n    const { startX, hadFocusAtTouchStart } = touchParams.current;\n\n    startX != null &&\n      Object.assign(touchParams.current, {\n        touchStarted: false,\n        startX: null,\n        touchMoved: false,\n      });\n\n    if (hadFocusAtTouchStart) {\n      setFocus(false);\n    }\n  }, [touchParams]); */\n\n  const handleFocus = useCallback(\n    event => {\n      onFocus && onFocus(event);\n\n      touchParams.current.hadFocusAtTouchStart = true;\n      setFocus(true);\n    },\n    [onFocus]\n  );\n\n  // const handleBlur = useCallback(\n  //   event => {\n  //     props.onBlur && props.onBlur(event);\n  //     touchParams.hadFocusAtTouchStart = false;\n  //     setFocus(false);\n  //   },\n  //   [touchParams]\n  // );\n\n  const getIcon = type => {\n    const { icons } = props;\n    if (!icons) {\n      return null;\n    }\n    return icons[type] === undefined\n      ? Toggle.defaultProps.icons[type]\n      : icons[type];\n  };\n\n  const classes =\n    'react-toggle' +\n    (checked ? ' react-toggle--checked' : '') +\n    (hasFocus ? ' react-toggle--focus' : '') +\n    (disabled ? ' react-toggle--disabled' : '') +\n    (className ? ' ' + className : '');\n\n  return (\n    <div\n      className={classes}\n      onClick={handleClick}\n      // onTouchStart={handleTouchStart}\n      // onTouchMove={handleTouchMove}\n      // onTouchEnd={handleTouchEnd}\n      // onTouchCancel={handleTouchCancel}\n    >\n      <div className=\"react-toggle-track\">\n        <div className=\"react-toggle-track-check\">{getIcon('checked')}</div>\n        <div className=\"react-toggle-track-x\">{getIcon('unchecked')}</div>\n      </div>\n      <div className=\"react-toggle-thumb\" />\n\n      <input\n        {...inputProps}\n        checked={checked}\n        onChange={noop}\n        ref={input}\n        onFocus={handleFocus}\n        className=\"react-toggle-screenreader-only\"\n        type=\"checkbox\"\n        aria-label=\"Switch between Dark and Light mode\"\n      />\n    </div>\n  );\n};\nexport default Toggle;\n","import styled, { keyframes } from 'styled-components';\n\nconst homeSlideIn = keyframes`\n  from {\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n`;\nconst homeSlideOut = keyframes`\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(-100%, 0, 0);\n  }\n`;\n\nconst detailSlideIn = keyframes`\n  from {\n    transform: translate3d(100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n`;\n\nconst detailSlideOut = keyframes`\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(100%, 0, 0);\n  }\n`;\n\nconst Home = styled.div`\n  .page-enter & {\n    animation: ${homeSlideIn} 0.4s forwards;\n  }\n  .page-exit & {\n    animation: ${homeSlideOut} 0.4s forwards;\n  }\n`;\n\nconst Detail = styled.div`\n  .page-enter & {\n    animation: ${detailSlideIn} 0.4s forwards;\n  }\n  .page-exit & {\n    animation: ${detailSlideOut} 0.4s forwards;\n  }\n`;\n\nexport { Home, Detail };\n","import { Link } from 'gatsby';\nimport 'prismjs/themes/prism-okaidia.css';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport '../globalThis';\nimport { rhythm, scale } from '../utils/typography';\nimport Bio from './Bio';\nimport Toggle from './components/ThemeToggle';\nimport { Home, Detail } from './components/Transition';\n\nconst HomeLink = styled(Link).attrs({ to: '/' })`\n  box-shadow: none;\n  text-decoration: none;\n  color: var(--textTitle);\n`;\n\nconst Header = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2.625rem;\n`;\n\nconst BlogTitle = ({ location, isRoot, title }) => {\n  return isRoot ? (\n    <h1\n      style={{\n        ...scale(1),\n        marginBottom: 0,\n        marginTop: 0,\n      }}\n    >\n      <HomeLink>{title}</HomeLink>\n    </h1>\n  ) : (\n    <h3\n      style={{\n        fontFamily: 'sans-serif',\n        marginTop: 0,\n        marginBottom: rhythm(-1),\n      }}\n    >\n      <HomeLink>{title}</HomeLink>\n    </h3>\n  );\n};\n\nconst BlogHeader = ({ location, title, isRoot }) => {\n  const THEME = 'theme';\n  let cacheTheme;\n  const [checked, setChecked] = useState(() => {\n    if (typeof localStorage !== 'undefined') {\n      cacheTheme = localStorage.getItem(THEME);\n      return cacheTheme === 'dark';\n    } else {\n      return false;\n    }\n  });\n\n  useEffect(() => {\n    const colorSchemeChanged = ({ matches }) => {\n      document.body.className = matches ? 'dark' : 'light';\n      setChecked(matches);\n    };\n\n    const media = window.matchMedia('(prefers-color-scheme: dark)');\n    media && media.addListener(colorSchemeChanged);\n    colorSchemeChanged({\n      matches: cacheTheme === undefined ? media.matches : checked,\n    });\n    return () => media && media.removeListener(colorSchemeChanged);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <Header>\n        <BlogTitle title={title} location={location} isRoot={isRoot} />\n        <Toggle\n          checked={checked}\n          icons={{\n            checked: <span>ðŸŒš</span>,\n            unchecked: <span>ðŸŒž</span>,\n          }}\n          onChange={checked => {\n            const theme = checked ? 'dark' : 'light';\n            document.body.className = theme;\n            setChecked(checked);\n            localStorage.setItem(THEME, theme);\n          }}\n        />\n      </Header>\n      {isRoot && <Bio />}\n    </>\n  );\n};\n\nconst Layout = ({ location, title, children }) => {\n  let rootPath = '/';\n  if (typeof globalThis.__PATH_PREFIX__ !== 'undefined') {\n    rootPath = globalThis.__PATH_PREFIX__ + `/`;\n  }\n  const isRoot = location.pathname === rootPath;\n\n  const Container = isRoot ? Home : Detail;\n  return (\n    <Container>\n      <BlogHeader isRoot={isRoot} title={title} location={location} />\n      {children}\n    </Container>\n  );\n};\n\nexport default Layout;\n"],"sourceRoot":""}