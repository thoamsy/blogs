{"componentChunkName":"component---src-templates-blog-post-js","path":"/lodash-fp/","webpackCompilationHash":"fcb25acbe833cb0c130c","result":{"data":{"site":{"siteMetadata":{"title":"ğŸ˜","author":"Yang Kui"}},"markdownRemark":{"id":"ee700f3d-3907-536b-8d62-6e4fb202474d","html":"<p>NOTE: 2019-08-25 è°ƒæ•´ä¸€äº›æè¿°å’Œæ ¼å¼æ›´æ–°ï¼Œå¹¶æ·»åŠ  pipeline ç›¸å…³ã€‚</p>\n<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä»‹ç» lodash çš„ <a href=\"https://github.com/lodash/lodash/wiki/FP-Guide\">fp</a> æ¨¡å—, é€šè¿‡å®ƒçš„ç‰¹ç‚¹æ¥è®© React çš„ <code class=\"language-text\">setState</code> å°‘å†™å¾ˆå¤šä»£ç . åŒæ ·çš„åŸç†ä¹Ÿèƒ½æ”¾åœ¨ redux çš„ <code class=\"language-text\">reducer</code> ä¸Š, ä½†æ˜¯å› ä¸º lodash/fp çš„ç¼ºé™·, è¿™ç¯‡æ–‡ç« ä¸ä¼šæ·±å…¥.</p>\n<h2 id=\"åˆ é™¤æ•°ç»„çš„æŸä¸ªå€¼\"><a href=\"#%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E7%9A%84%E6%9F%90%E4%B8%AA%E5%80%BC\" aria-label=\"åˆ é™¤æ•°ç»„çš„æŸä¸ªå€¼ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>åˆ é™¤æ•°ç»„çš„æŸä¸ªå€¼</h2>\n<p>å¼€é—¨å…ˆæ¥ä¸€ä¸ªä¾‹å­.\nå‡è®¾æˆ‘ä»¬çš„ state çš„ç»“æ„æ˜¯è¿™æ ·</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  posts<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> <span class=\"token string\">'1234567'</span><span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">:</span> <span class=\"token string\">'abc'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> <span class=\"token string\">'4343434'</span><span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">:</span> <span class=\"token string\">'def'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>æˆ‘ä»¬æƒ³åˆ é™¤ç‰¹å®šçš„ id çš„ post è¯, æœ€åŸç”Ÿçš„å†™æ³•ä¼šæ˜¯</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> posts <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tposts<span class=\"token punctuation\">:</span> posts<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span> <span class=\"token operator\">=></span> post<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> postId<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ä½¿ç”¨æ™®é€šçš„ lodash ä¼šæ˜¯</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> posts <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  posts<span class=\"token punctuation\">:</span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> postId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>è¿™æ ·çœ‹èµ·æ¥, æ™®é€šçš„ lodash å¹¶æ²¡æœ‰åšå¤šå°‘äº‹æƒ…, åªä¸è¿‡åœ¨ <code class=\"language-text\">filter</code> çš„æ—¶å€™, é€šè¿‡å†…ç½®çš„ <code class=\"language-text\">reject</code> å°‘å†™äº†ä¸€äº›ä»£ç .\né‚£ä¹ˆ, æˆ‘ä»¬å†çœ‹ä¸‹ lodash/fp çš„å†™æ³•</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> postId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// or</span>\n<span class=\"token keyword\">const</span> rejectWithPostId <span class=\"token operator\">=</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">,</span> <span class=\"token function\">propEq</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token function\">rejectWithPostId</span><span class=\"token punctuation\">(</span>postId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°, æˆ‘ä»¬å·²ç»å°‘å†™äº†å¾ˆå¤šé‡å¤çš„ä»£ç . æ¯”å¦‚ä¹‹å‰ä¸¤ä¸ªä»£ç ä¸­éƒ½ä¼šå‡ºç°ä¸‰æ¬¡çš„ <code class=\"language-text\">posts</code>, åœ¨è¿™é‡Œåªå‡ºç°äº†ä¸€æ¬¡, è€Œä¸”ä¹Ÿæ²¡æœ‰åµŒå¥—å’Œå¤§æ‹¬å·çš„å‡ºç°, è¿™æ˜æ˜¾è®©ä»£ç çœ‹ä¸Šå»æ›´<del>ç®€æ´</del>ä¼˜é›…ä¸ç¹çã€‚</p>\n<p>è€Œä¸‹é¢ compose çš„ä½¿ç”¨, è™½ç„¶çœ‹ä¸Šå»æ€»ä»£ç å¤šäº†, ä½†æ˜¯å´è¿›ä¸€æ­¥æé«˜äº†ä»£ç çš„ç»´æŠ¤æ€§ï¼Œè®©å¼€å‘è€…æ˜ç¡®çŸ¥é“è¿™ä¸ªå‡½æ•°ä»£è¡¨äº†ä»€ä¹ˆæ„æ€ã€‚</p>\n<h2 id=\"å…·ä½“çš„è§£é‡Šåœ¨ä¸‹æ–‡è¯´æ˜\"><a href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E8%A7%A3%E9%87%8A%E5%9C%A8%E4%B8%8B%E6%96%87%E8%AF%B4%E6%98%8E\" aria-label=\"å…·ä½“çš„è§£é‡Šåœ¨ä¸‹æ–‡è¯´æ˜ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å…·ä½“çš„è§£é‡Šåœ¨ä¸‹æ–‡è¯´æ˜</h2>\n<h2 id=\"lodashfp-çš„å˜åŒ–\"><a href=\"#lodashfp-%E7%9A%84%E5%8F%98%E5%8C%96\" aria-label=\"lodashfp çš„å˜åŒ– permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>lodash/fp çš„å˜åŒ–</h2>\n<p>é‚£ä¹ˆè¿™ä¸ªæ¨¡å—å’Œæ™®é€šçš„ lodash åŒºåˆ«åœ¨å“ªå‘¢ï¼Ÿåˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹</p>\n<ol>\n<li>éƒ½æ˜¯çº¯å‡½æ•°</li>\n<li>å‚æ•°çš„é¡ºåºè°ƒæ•´</li>\n<li>iteratee å‚æ•°å—é™</li>\n<li>å®Œå…¨æŸ¯é‡ŒåŒ–</li>\n<li>æ²¡æœ‰å¯é€‰å‚æ•°ä¸‹é¢ä¸€ä¸€è§£é‡Šè¿™å‡ ç‚¹</li>\n</ol>\n<h3 id=\"pure\"><a href=\"#pure\" aria-label=\"pure permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pure</h3>\n<p><em>éƒ½æ˜¯çº¯å‡½æ•°</em>è¿™å¥è¯, å¦‚æœä½ ç¨å¾®äº†è§£è¿‡å‡½æ•°å¼ç¼–ç¨‹, å°±çŸ¥é“å®ƒçš„æ„ä¹‰ä½•åœ¨.\næˆ‘ä»¬çœ‹è¿™ä¸ªä¾‹å­.\nå¦‚æœæˆ‘ä»¬ä½¿ç”¨ lodash çš„ <code class=\"language-text\">set</code>, æ‰§è¡Œ</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevState</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>prevState<span class=\"token punctuation\">,</span> <span class=\"token string\">'posts[0]'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>è¿™æ ·çš„æ“ä½œä¼šä¿®æ”¹ prevState çš„, è‚¯å®šä¼šå¯¼è‡´çš„ bug çš„å‡ºç°. å½“ç„¶è¿™ç§ç”¨ set çš„æ–¹å¼ç¡®å®æœ‰ç‚¹æ€ª, æœ‰ç‚¹åƒå¼ºè¡Œæé€ çš„å‡ºæ¥çš„ä»£ç  ğŸŒ\nä½†æ˜¯å¦‚æœç”¨ lodash/fp ä¸‹çš„ <code class=\"language-text\">set</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevState</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts[0]'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> prevState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>å®ƒç›¸æ¯” lodash çš„åŒºåˆ«æ˜¯ï¼Œå‚æ•°é¡ºåºè°ƒæ•´å’Œ <em>immutable</em>\nå¦å¤–, ä½ å¯ä»¥ç”¨ Jest è¿è¡Œä¸‹é¢ä»£ç , å¯ä»¥ç¡®å®šå®ƒæ˜¯çº¯çš„, è¿™æ ·ä¹Ÿå°±ä¿è¯äº† setState çš„æ­£ç¡®æ€§</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The set function should be pure'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts[0]'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"rearranged-arguments\"><a href=\"#rearranged-arguments\" aria-label=\"rearranged arguments permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rearranged Arguments</h3>\n<p>æœ€æ˜¾è‘—çš„ä¸€ç‚¹å°±æ˜¯, ç”± <em>data-first/</em> å˜æˆäº† <em>data-last</em>.\né™¤äº†ä¸Šé¢çš„ set, è¿˜æœ‰ <code class=\"language-text\">map, reduce, filter</code> éƒ½æ˜¯è¿™æ ·.</p>\n<p><code class=\"language-text\">map([1, 2, 3], a =&gt; a * 2)</code> è°ƒæ•´æˆäº† <code class=\"language-text\">map(a =&gt; a * 2, [1 ,2 ,3])</code>\nè¿™ä¸ªè°ƒæ•´ç›®å‰çœ‹ä¸Šå»ä¼¼ä¹å¾ˆé¸¡è‚‹ï¼Œç”šè‡³æœ‰ç‚¹åäººç±»ä¹‹å«Œ, ç­‰æè¿°å®ŒæŸ¯é‡ŒåŒ–åæˆ‘ä»¬ä¼šç»§ç»­å¯¹æ¯”</p>\n<h3 id=\"capped-iteratee-arguments\"><a href=\"#capped-iteratee-arguments\" aria-label=\"capped iteratee arguments permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Capped Iteratee Arguments</h3>\n<p>å°†è¿­ä»£å™¨å‡½æ•°åšé™åˆ¶, ä¸»è¦æ˜¯ä¸ºäº†è§„é¿ä¸€äº›å¸¸è§ bug</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// The `lodash/map` iteratee receives three arguments:</span>\n<span class=\"token comment\">// (value, index|key, collection)</span>\n_<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'6'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'8'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'10'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> parseInt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// âœ [6, NaN, 2]</span>\n\n<span class=\"token comment\">// The `lodash/fp/map` iteratee is capped at one argument:</span>\n<span class=\"token comment\">// (value)</span>\nfp<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>parseInt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'6'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'8'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'10'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// âœ [6, 8, 10]</span></code></pre></div>\n<p>Capped çš„æ–¹å¼è™½ç„¶è®©æˆ‘ä»¬ä¸ä¼šå†é­é‡æ„å¤–çš„ä¼ å‚å¯¼è‡´çš„ bugï¼Œä½†æ˜¯è¿™ä¹Ÿå¯¼è‡´ map çš„èƒ½åŠ›è¢«å¤§å¤§å‰Šå¼±ã€‚è¿™ç§ä¸€åˆ€åˆ‡çš„æ–¹å¼ä¼¼ä¹ä¸æ˜¯é‚£ä¹ˆçš„ä¼˜é›…ã€‚å¥½åœ¨ fp ä¸­è¿˜æä¾›äº†ä¸€ä¸ª <code class=\"language-text\">convert</code> æ–¹æ³•æ¥ç”¨å»é™¤è¿™ä¸ªé™åˆ¶</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> mapWithIndex <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">convert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> cap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> posts <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tposts<span class=\"token punctuation\">:</span> <span class=\"token function\">mapWithIndex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> i <span class=\"token operator\">===</span> index <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>post<span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">:</span> <span class=\"token string\">'good'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">:</span> post<span class=\"token punctuation\">,</span> posts<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>å¯æ˜¯æˆ‘ä»¬çœŸçš„è¿˜éœ€è¦ä¾èµ– map çš„ index æ¥åšè¿™ç§äº‹æƒ…ä¹ˆ? ä»”ç»†æƒ³ä¸€ä¸‹, cap çš„å­˜åœ¨ä¸ä»…æ˜¯ä¸ºäº†å‡å°‘æ„å¤–çš„ bug å‡ºç°ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯èƒ½å°±æ˜¯å®ƒåœ¨é¼“åŠ±å¼€å‘è€…ä½¿ç”¨æ›´åŠ  <em>functional</em> çš„æ–¹å¼æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚æˆ‘ä»¬å¯ä»¥åˆ° fp ä¸­çš„ <code class=\"language-text\">update</code> æ–¹æ³•</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts[</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">]</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'good'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>é‚£ä¹ˆé™¤äº† set ä¹‹å¤–ï¼Œfp ä¸­è¿˜å­˜åœ¨ä¸€ä¸ª assign æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨å’Œ <code class=\"language-text\">Object.assign</code> ç±»ä¼¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½æŠŠä»£ç æ›¿æ¢æˆä¸‹é¢è¿™æ ·ä¹ˆï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts[</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">]</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> content<span class=\"token punctuation\">:</span> <span class=\"token string\">'good'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>äº‹å®ä¸Šæ˜¯ä¸å¯è¡Œçš„ï¼Œå…·ä½“åŸå› åé¢å†å±•ç¤ºã€‚</p>\n<p>å¦å¤–, lodash/fp å…¶å®è¿˜æä¾›äº†å¾ˆå¤šåŒåå‡½æ•°, <code class=\"language-text\">set</code> çš„åŒåå‡½æ•°æœ‰ <code class=\"language-text\">assoc</code> å’Œ <code class=\"language-text\">assocPath</code>. ç”¨æ³•éƒ½ä¸€æ ·, ä¸è¿‡åœ¨å…¶ä»–åº“ä¸­, åé¢ä¸¤ä¸ªå«æ³•æ›´ä¸ºæ™®é.</p>\n<p><code class=\"language-text\">assoc</code> ç”¨äºç»™éåµŒå¥—çš„å¯¹è±¡èµ‹å€¼ã€‚æ¯”å¦‚ <code class=\"language-text\">assoc(&#39;path&#39;, 1), assoc(&#39;hh&#39;, 2)</code>ã€‚å¯¹äº <code class=\"language-text\">posts[2]</code> è¿™ç§æ–¹å¼å°±åº”è¯¥äº¤ç»™\nassocPath, <code class=\"language-text\">assocPath([&#39;posts&#39;, 2], 2)</code></p>\n<p>ä½†æ˜¯å‘¢ï¼ŒLodash æ˜¯å·äº†æ‡’, æ²¡æœ‰åœ¨å®ç°ä¸ŠåŒºåˆ«å®ƒä»¬. åªä¸è¿‡å®ƒæä¾›äº†ä¸€ä¸ª <code class=\"language-text\">eslint-plugin-lodash-fp</code> æ¥æä¾› lint çš„æ”¯æŒ, å¸®åŠ©ä½¿ç”¨è€…åŠ ä»¥é™åˆ¶.</p>\n<h3 id=\"currying\"><a href=\"#currying\" aria-label=\"currying permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Currying</h3>\n<p>ç»ˆäºåˆ°äº†é‡ç‚¹å’¯. å…ˆæ¥è§£é‡Šä¸‹æŸ¯é‡ŒåŒ–å§.\nè‹±æ–‡ <em>Currying</em>, ä¹‹æ‰€ä»¥è¿™ä¹ˆå«æ˜¯å› ä¸ºæœ‰ä¸€ä¸ªæ•°å­¦å®¶å«, <a href=\"https://en.wikipedia.org/wiki/Haskell_Curry\">Haskell Curry</a> , ä»–æå‡ºäº†ä¸€ç§åŒ–ç®€é«˜é˜¶å‡½æ•°çš„æ–¹æ³•, æ‰€æœ‰åäººå°±ç»™è¿™ç§æ–¹æ³•å‘½åä¸º Currying å’¯. æˆ‘åˆå­¦çš„æ—¶å€™, ä¸€ç›´æ²¡ææ‡‚è¿™æ˜¯ä»€ä¹ˆæ„æ€, å› ä¸ºå®ƒçš„ç›´è¯‘å°±æ˜¯<em>å’–å–±</em>(é‚£ä¸ªæ—¶å€™, ç¯®çƒå·¨æ˜Ÿåº“é‡Œè¿˜æ²¡é‚£ä¹ˆç«)</p>\n<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°, <code class=\"language-text\">add</code>. é€šå¸¸çš„å†™æ³•åº”è¯¥æ˜¯ <code class=\"language-text\">add(a, 10)</code>, è¯´æ˜æˆ‘ä»¬ç»™å˜é‡ a åŠ  10.\nä¸‹ä¸€æ¬¡æˆ‘ä»¬è¦ç»™å˜é‡ b åŠ  10, å°± <code class=\"language-text\">add(b, 10)</code>, å¦‚æœè¿˜æœ‰å˜é‡ Câ€¦â€¦\nå¦‚æœä¸€ä¸ªè¢«æŸ¯é‡ŒåŒ–è¿‡å¾— add, å°±å¯ä»¥è¿™æ ·å†™ <code class=\"language-text\">add(a, 10) add(a)(10), add(__, 10)(a), add(__)(a)(10)</code></p>\n<p>ä½ å¯èƒ½ä¼šé—®è¿™æ ·æœ‰ä»€ä¹ˆç”¨ 0.0, è€Œä¸”é‚£ä¸ª <code class=\"language-text\">__</code> æ˜¯ä»€ä¹ˆæ„æ€? è¿™å¤§çš„å¥½å¤„å…¶å®å°±æ˜¯èƒ½å¤Ÿå‡½æ•°å¤ç”¨ï¼Œå¹¶ä½œä¸ºè¾“å…¥ä¼ ç»™ä¸‹ä¸€ä¸ªå‡½æ•°</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> addTen <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>è¿™æ ·çš„è¯, è¦è®¡ç®— a, b, c åªéœ€è¦è°ƒç”¨ <code class=\"language-text\">addTen(a)</code> è¿™æ ·å°±è¡Œå’¯.\né‚£ä¹ˆ <code class=\"language-text\">__</code> å‘¢? å®˜æ–¹çš„è§£é‡Šæ˜¯:</p>\n<blockquote>\n<p>The placeholder argument, which defaults to <code class=\"language-text\">__</code>, may be used to fill in method arguments in a different order. Placeholders are filled by the first available arguments of the curried returned function.</p>\n</blockquote>\n<p>ä»€ä¹ˆæ„æ€, æˆ‘ä»¬ä¸¾è¿‡ä¸€ä¸ªä¾‹å­. ä¸Šé¢çš„åŠ æ³•æ”¹æˆå‡æ³•, ä½†æ˜¯ç›®çš„è¿˜æ˜¯ä¸€æ ·, å°†ä¸€ä¸ªæ•°å‡ 10.\nè¿™é‡Œæˆ‘ä»¬è¿˜èƒ½ç”¨ <code class=\"language-text\">sub(10)</code> å—? æ˜¾ç„¶ä¸è¡Œ, å› ä¸ºå‡æ³•ä¸æ˜¯åŠ æ³•, æ˜¯ä¸<strong>æ»¡è¶³äº¤æ¢å¾‹</strong>çš„. æ‰€ä»¥ sub(10) ä¼šå˜æˆ 10 - a è€Œä¸æ˜¯ a - 10\nè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨åˆ° <code class=\"language-text\">__</code>, <code class=\"language-text\">const subTen = sub(__, 10)</code>, å®ƒå°±ç›¸å½“äºä¸€ä¸ªå ä½ç¬¦çš„æ•ˆæœï¼Œè®©æˆ‘ä»¬å¿½ç•¥è¿™ä¸ªå€¼ï¼Œå»çœ‹åé¢çš„ã€‚ä¹Ÿç±»ä¼¼äº <code class=\"language-text\">flip(sub)(10)</code> çš„æ•ˆæœ</p>\n<p>åŒæ—¶, ä½¿ç”¨å ä½ç¬¦, ä¸Šé¢çš„ä»£ç </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts[</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">]</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'good'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>å…¶å®å¯ä»¥æ”¹æˆ</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts[</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">]</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token function\">assign</span><span class=\"token punctuation\">(</span>__<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> content<span class=\"token punctuation\">:</span> <span class=\"token string\">'good'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>æ‰€ä»¥ä¹‹å‰çš„ <code class=\"language-text\">assign</code> ä¸è¡Œçš„åŸå› æ˜¯å› ä¸º, lodash/fp å¹¶æ²¡æœ‰è°ƒæ•´å®ƒçš„é¡ºåº. æœ¬æ¥æ˜¯åé¢çš„å‚æ•°è¦†ç›–å‰é¢çš„å‚æ•°, è¿™ç§å¾ˆç¬¦åˆäººç±»æ€è€ƒæ–¹å¼çš„ä¹ æƒ¯, ä½†æ˜¯å¦‚æœç¡¬è¦äº¤æ¢çš„è¯, åè€Œå°±ä¼šçœ‹ä¸Šå»å¾ˆå¥‡æ€ª.</p>\n<p>ç°åœ¨æˆ‘ä»¬å¤§æ¦‚äº†è§£äº†æŸ¯é‡ŒåŒ–çš„ä½œç”¨, ä½†æ˜¯çœ‹ä¸Šå»æ•ˆæœè¿˜ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾. ä½†æ˜¯å¦‚æœç»“åˆå‚æ•°é¡ºåºçš„å¯¹è°ƒå‘¢?\nå†çœ‹ä¸€ä¸ªä¾‹å­. è¿™ä¸ªä»£ç å¯èƒ½æœ‰ç‚¹æŠ½è±¡, æœ‰ç‚¹é•¿ :ï¼‰<a href=\"http://fr.umio.us/favoring-curry/\">ä¾‹å­æ¥è‡ªä¸€ä¸ª ramda çš„æ•™ç¨‹</a></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getIncompleteTaskSummaries</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">memberName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token string\">'tasks'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tasks</span> <span class=\"token operator\">=></span> <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">,</span> <span class=\"token string\">'username'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tasks</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">,</span> <span class=\"token string\">'complete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tasks</span> <span class=\"token operator\">=></span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">,</span> <span class=\"token parameter\">task</span> <span class=\"token operator\">=></span> <span class=\"token function\">pick</span><span class=\"token punctuation\">(</span>\n\t\t\t\ttask<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'priority'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">abbreviatedTasks</span> <span class=\"token operator\">=></span> <span class=\"token function\">sortBy</span><span class=\"token punctuation\">(</span>abbreviatedTask<span class=\"token punctuation\">,</span> <span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>æˆ‘ä»¬å…ˆä¸ç®¡å®ƒçš„åº”ç”¨åœºæ™¯, å…‰çœ‹ä»£ç çš„è¯, å¯ä»¥æ„è¯†åˆ°, è¿™é‡Œå†™äº†å¤ªå¤šé‡å¤çš„ tasks äº†, è€Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æ—¥å¸¸ç¼–ç¨‹ä¸­çš„å¸¸è§å†™æ³•. tasks ä½œä¸ºä¸­é—´å˜é‡, éœ€è¦ä¸æ–­åœ°çš„ä¼ é€’.\næˆ‘ä»¬å‰¥ç¦»è¿™é‡Œçš„ Promise, æ”¹æˆè¿™ä¸ªæ ·å­</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">sortBy</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token string\">'tasks'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'username'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'complete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">task</span> <span class=\"token operator\">=></span>\n    <span class=\"token function\">pick</span><span class=\"token punctuation\">(</span>task<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'priority'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'dueDate'</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>æˆ‘ç¨å¾®åšäº†ä¸€ç‚¹æ ¼å¼çš„è°ƒæ•´, ä½†æ˜¯è¿™äº›æ•´ä¸ªæ€è·¯å°±å¾ˆæ˜æ˜¾äº†, è¿™ä¸å°±æ˜¯å‡½æ•°åµŒå¥—å—? åªä¸è¿‡å¯è¯»æ€§ä¸æ˜¯é‚£ä¹ˆå¥½ :-(, æˆ‘ä»¬æ ¹æœ¬ä¸å¯èƒ½ä¸€çœ¼çœ‹å‡ºæ¥å®ƒæ˜¯å¯¹å“ªä¸ªå˜é‡è¿›è¡Œæ“ä½œ, æœ€å…ˆè¿è¡Œçš„å‡½æ•°åˆæ˜¯å“ªä¸ª</p>\n<p>å¤§å­¦æ•°å­¦çš„ç¦»æ•£æ•°å­¦é‡Œåº”è¯¥æé«˜ä¸€ä¸ªæ¦‚å¿µ, <em>å‡½æ•°ç»„åˆ</em>. <em>f(g(x)) = f â€¢ g</em> æ‰€ä»¥ä¸Šé¢çš„å†™æ³•å¦‚æœå¯ä»¥æ”¹ä¸º <em>sortBy â€¢ map â€¢ reject â€¢ filter â€¢ get</em> è¿™ç§å½¢å¼çš„è¯, çœ‹ä¸Šå»åº”è¯¥ä¼šç®€å•å¾ˆå¤šå•¦, é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åšåˆ°å—? å°è¯•ä¸‹ <code class=\"language-text\">compose</code> å‡½æ•°.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">sortBy</span><span class=\"token punctuation\">(</span>__<span class=\"token punctuation\">,</span> <span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>__<span class=\"token punctuation\">,</span> <span class=\"token function\">pick</span><span class=\"token punctuation\">(</span>__<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'priority'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>__<span class=\"token punctuation\">,</span> <span class=\"token string\">'complete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>__<span class=\"token punctuation\">,</span> <span class=\"token string\">'username'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>__<span class=\"token punctuation\">,</span> <span class=\"token string\">'tasks'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ä¸è¦è¿è¡Œè¿™æ®µå‡½æ•°</span></code></pre></div>\n<p>å…¶å®è¿™æ ·çœ‹ä¸Šå»å·²ç»å¥½å¤šäº†ä¸æ˜¯å—? è‡³å°‘æˆ‘ä»¬ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥, æˆ‘ä»¬çš„é€»è¾‘é¡ºåºäº†.\nè‡³äºä¸ºä»€ä¹ˆè¿™ä¹ˆå¤š <code class=\"language-text\">__</code>, é‚£æ˜¯å› ä¸ºå®ƒä»¬éƒ½æ˜¯ data è¢«å¤„ç†åçš„ç»“æœ, ä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„ä¸­é—´å˜é‡. æ‰€ä»¥æˆ‘ä»¬ä»…ä»…åªéœ€è¦è°ƒæ•´å‡½æ•°å‚æ•°çš„é¡ºåº, å°±å¯ä»¥çœå»è¿™äº›å ä½ç¬¦.\nå˜æˆ</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">sortBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">pick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'priority'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">'complete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'username'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tasks'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>è¿™å°±æ˜¯å‚æ•°éœ€è¦è°ƒæ•´é¡ºåºçš„åŸå› å•¦.</p>\n<p>å†è§£é‡Šä¸€ä¸‹æŸ¯é‡ŒåŒ–åœ¨è¿™é‡Œçš„é‡è¦æ€§. å¦‚æœå‡½æ•°æ²¡æœ‰æŸ¯é‡ŒåŒ–çš„è¯, ä»ç¬¬ä¸€æ­¥ <code class=\"language-text\">get(&#39;tasks&#39;)</code> å¼€å§‹, è¿™ä¸ªå‡½æ•°åªä¼šè¢«è§£é‡Šæˆ <code class=\"language-text\">get(&#39;tasks&#39;, undefined)</code>, é‚£ä¹ˆå¾ˆæ˜¾ç„¶, åé¢çš„è¿‡ç¨‹å°±æ²¡æœ‰è¿›è¡Œä¸‹å»çš„æ„ä¹‰å’¯. è€Œé€šè¿‡æŸ¯é‡ŒåŒ–, è¿™é‡Œè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°, ä¸€ä¸ªéœ€è¦æ”¶é›†å®ƒå¦å¤–ä¸€ä¸ªå‚æ•°çš„å‡½æ•°.</p>\n<p>åŒæ ·çš„ <code class=\"language-text\">filter</code> ä¹Ÿéœ€è¦ä¸€ä¸ªæ•°ç»„æ¥å¡«å……è¿›æ¥, <code class=\"language-text\">reject</code> å’Œåé¢çš„å‡½æ•°éƒ½ä¸€æ ·. å› ä¸ºå®ƒä»¬ç°åœ¨éƒ½æ˜¯å‡½æ•°, æ‰€ä»¥ compose ä¸ä¼šæŠ±æ€¨, å®ƒå°†è¿™äº›å‡½æ•°<em>ç»„åˆåœ¨äº†ä¸€èµ·</em>, å˜æˆäº†ä¸€ä¸ªæ–°çš„å‡½æ•°.\nå½“æˆ‘ä»¬å°† data ä¼ å…¥è¿™ä¸ªæ–°å‡½æ•°çš„æ—¶å€™, å…ˆè¿è¡Œ <code class=\"language-text\">get(&#39;tasks&#39;)(data)</code>, å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„, è¿™ä¸ªæ•°ç»„ä¼ ç»™ <code class=\"language-text\">filter(&#39;usename&#39;)</code> åˆå¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„. å°±è¿™æ ·åå¤çš„æ‰§è¡Œæœ€åå¾—åˆ°æˆ‘ä»¬çš„ç»“æœ</p>\n<p>é¡ºä¾¿ä¸€æ, è¿™ç§ <code class=\"language-text\">a(b(c(d(e, f)))))</code> çš„å½¢å¼å…¶å®å¾ˆåƒ <code class=\"language-text\">reduce</code> çš„æ“ä½œ, æ‰€ä»¥å†çœ‹çœ‹ compose çš„å®ç°å§</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compose</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>fns</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> fns<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>åœ¨æ–°çš„ Babel ææ¡ˆä¸­ï¼Œæœ‰ä¸€ä¸ª <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Pipeline_operator\">pipeline</a> è¿ç®—ç¬¦ <code class=\"language-text\">|&gt;</code>, åˆ©ç”¨å®ƒå¯ä»¥è®©ä»£ç æ”¹æˆä¸‹é¢çš„æ ·å­è€Œä¸éœ€è¦å¦å¤–çš„å‡½æ•°ã€‚è€Œä¸”ç›¸æ¯” compose çš„ä»å³å¾€å·¦çš„é¡ºåºï¼Œå¯èƒ½ä»å·¦å¾€å³ä¼šæ›´åŠ ç›´è§‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tasks'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">|</span><span class=\"token operator\">></span> <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'username'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">|</span><span class=\"token operator\">></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">'complete'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">|</span><span class=\"token operator\">></span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">pick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'priority'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">|</span><span class=\"token operator\">></span> <span class=\"token function\">sortBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dueDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"no-optional-arguments\"><a href=\"#no-optional-arguments\" aria-label=\"no optional arguments permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>No Optional Arguments</h3>\n<p>æœ€åå†è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦å›ºå®šå‚æ•°? lodash çš„é‚£äº›å¯é€‰å‚æ•°çš„å‡½æ•°å…¨éƒ¨éƒ½æŒ‚äº†, ä¸ºä»€ä¹ˆå‘¢?\nå…¶å®è¿™æ˜¯å› ä¸º <code class=\"language-text\">curry</code> ä¸æ”¯æŒå¯é€‰å‚æ•°çš„. JS åŸç”Ÿä¸æ”¯æŒæŸ¯é‡ŒåŒ–, é‚£ä¹ˆæˆ‘ä»¬æ— éå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹.\nä¸€ä¸ªç®€å•çš„ curry æ–¹æ³•å¯ä»¥å†™æˆ</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">curry</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">fn<span class=\"token punctuation\">,</span> length <span class=\"token operator\">=</span> fn<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  args<span class=\"token punctuation\">.</span>length <span class=\"token operator\">>=</span> length <span class=\"token operator\">?</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token function\">curry</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>æ³¨æ„çœ‹å®ç°å°±å¯ä»¥å‘ç°, æˆ‘ä»¬å¿…é¡»äº†è§£åˆ°å‡½æ•°çš„é•¿åº¦, æ‰èƒ½å†³å®šæ˜¯è¿”å›å‡½æ•°çš„è¿è¡Œç»“æœè¿˜æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°.\nçœ‹å®Œè¿™äº›å†å›è¿‡å¤´çœ‹ä¹‹å‰çš„ä¾‹å­çš„è¯, åº”è¯¥å°±å¾ˆå®¹æ˜“ç†è§£äº†.</p>\n<h2 id=\"æ›´å¤šä¾‹å­\"><a href=\"#%E6%9B%B4%E5%A4%9A%E4%BE%8B%E5%AD%90\" aria-label=\"æ›´å¤šä¾‹å­ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>æ›´å¤šä¾‹å­</h2>\n<p>ä¸Šé¢å·²ç»ä¸¾äº†ä½¿ç”¨ lodash/fp é…åˆ setState æ›´æ–°å’Œåˆ é™¤çš„ä¾‹å­, å†çœ‹çœ‹åœ¨æœ«å°¾æ·»åŠ çš„ä¾‹å­å§.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// æœ«å°¾æ·»åŠ </span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">addPost</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token string\">'posts'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// æ›´æ–°æ•°ç»„ç‰¹å®šä¸‹æ ‡çš„å€¼, è¿™ä¸ªç±»ä¼¼äºäº•å­—æ£‹çš„æ¸¸æˆä¸­å¾ˆæœ‰ç”¨.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts[</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">]</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ä¸è¶³\"><a href=\"#%E4%B8%8D%E8%B6%B3\" aria-label=\"ä¸è¶³ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ä¸è¶³</h2>\n<p>lodash/fp å…¶å®è¿˜æœ‰å¾ˆå¤šä¸è¶³, å®ƒä¸è¿‡æ˜¯å°† lodash é‡Œçš„å‡½æ•°æ”¹æˆäº† fp çš„å½¢å¼, æ‰€ä»¥å®ƒç›¸æ¯” lodash æ²¡æœ‰ä»»ä½•æ–°å‡½æ•°.\næ¯”å¦‚, å®ƒä¸èƒ½åŒæ—¶ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå€¼. åŒæ ·çš„ä¹Ÿä¸èƒ½ä½¿ç”¨å¤šä¸ªå‡½æ•°æ¥ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå€¼.\nç®€å•çš„è¯´å°±æ˜¯, <code class=\"language-text\">set</code> å’Œ <code class=\"language-text\">update</code> éƒ½ä»…ä»…åªæ”¯æŒä¿®æ”¹ä¸€ä¸ªå‚æ•°.\nåŒæ—¶, é’ˆå¯¹æ•°ç»„çš„æ–¹æ³•ä¹Ÿä¸æ˜¯å¾ˆå¤š, æ¯”å¦‚æ²¡æœ‰ç±»ä¼¼äº <code class=\"language-text\">insert</code> çš„æ–¹æ³•. è¿™è®©æŸäº›æ—¶å€™ï¼Œfp å˜å¾—éå¸¸é¸¡è‚‹</p>\n<h2 id=\"ramda\"><a href=\"#ramda\" aria-label=\"ramda permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ramda</h2>\n<p>æœ€å, å¦‚æœçœŸçš„å°è¯•ä½¿ç”¨è¿™ç§é£æ ¼çš„è¯, lodash/fp ä»…ä»…æ˜¯å…¥é—¨, å»ºè®®è¿˜æ˜¯ä½¿ç”¨ <a href=\"http://ramdajs.com\">Ramda</a> æ¥è·å¾—æ›´åŠ çº¯ç²¹çš„ä½“éªŒå’Œäº«å—.\nå…³äº Ramda çš„ä½¿ç”¨å¯ä»¥å‚è€ƒè¿™äº›<a href=\"http://fr.umio.us\">åšå®¢</a></p>","frontmatter":{"title":"ä½¿ç”¨ lodash/fp","spoiler":"æ„Ÿå— fp çš„å¼ºå¤§","date":"2018/04/02"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/lodash-fp/","previous":{"fields":{"slug":"/object-assign/"},"frontmatter":{"title":"Object.assign çš„ä¸€äº›é—®é¢˜","spoiler":null}},"next":{"fields":{"slug":"/PureComponent is harmful/PureComponent is harmful/"},"frontmatter":{"title":"PureComponent Considered Harmful","spoiler":"ä¸è¦è®©æ‰€æœ‰çš„ç»„ä»¶éƒ½æ˜¯ PureComponent æˆ–è€… memo"}}}}}