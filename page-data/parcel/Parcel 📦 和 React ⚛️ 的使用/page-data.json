{"componentChunkName":"component---src-templates-blog-post-js","path":"/parcel/Parcel ğŸ“¦ å’Œ React âš›ï¸ çš„ä½¿ç”¨/","webpackCompilationHash":"b1cda5ab007edddb5720","result":{"data":{"site":{"siteMetadata":{"title":"ğŸ˜","author":"Yang Kui"}},"markdownRemark":{"id":"0c37185d-0f51-57d4-8cf8-55a58c7b7950","html":"<p>Parcel è¿™ç§å·¥å…·è™½ç„¶å·ç§°é›¶é…ç½®, ä½†æ˜¯åœ¨ React ç›¸å…³å¼€å…³çš„æ—¶å€™è¿˜éœ€è¦ä¸€äº›å¿…è¦çš„é…ç½®æ‰èƒ½è®©æ•´ä¸ªä»£ç çœŸçš„è·‘èµ·æ¥. ç‰¹åˆ«æ˜¯å¦‚æœéœ€è¦ <strong>Hot Reloader</strong> çš„æ—¶å€™. å¦‚æœä½¿ç”¨ <a href=\"https://github.com/facebookincubator/create-react-app\">create-react-app</a> ç¡®å®å¾ˆæ–¹ä¾¿, è¿™ä¹Ÿæ˜¯å…¥é—¨å’Œæ–°é¡¹ç›®é¦–é€‰. ä½†æ˜¯å‘¢, æƒ³ä¸Šé¢æåˆ°çš„ <code class=\"language-text\">hot reloader</code> é»˜è®¤æ˜¯ä¸æ”¯æŒçš„, é™¤éè‡ªå·±å…ˆ <code class=\"language-text\">yarn eject</code> <strong>å¼¹å°„</strong> å‡ºå», å†æ‰‹åŠ¨é…ç½® webpack æ–‡ä»¶æ‰è¡Œ! è¿™ä¸ªè™½ç„¶æ–‡æ¡£ä¸Šä¹Ÿæœ‰è¯¦ç»†çš„è®°è½½, ä½†æ˜¯æ„Ÿè§‰å°±æ²¡æœ‰é‚£ä»½çº¯ç²¹æ€§äº†.\næ‰€ä»¥ä½¿ç”¨ parcel è‡ªå·±æ‰‹åŠ¨æ¥é…ç½®çš„è¯, æ›´æœ‰ä¸€ç§æˆå°±æ„Ÿ.</p>\n<p>Parcel åŸºæœ¬æ•™ç¨‹åœ¨ä¹‹å‰çš„æ–‡ç«  [[Parcel çš„ä½¿ç”¨]] ä¸­æœ‰ç®€å•çš„ä»‹ç», ä¸‹é¢ç›´æ¥è¿›å…¥ä½¿ç”¨ç¯èŠ‚.</p>\n<hr>\n<h2 id=\"babel-çš„åŸºæœ¬é…ç½®\"><a href=\"#babel-%E7%9A%84%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE\" aria-label=\"babel çš„åŸºæœ¬é…ç½® permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Babel çš„åŸºæœ¬é…ç½®</h2>\n<h3 id=\"ä¸€äº›èƒŒæ™¯ä»‹ç»\"><a href=\"#%E4%B8%80%E4%BA%9B%E8%83%8C%E6%99%AF%E4%BB%8B%E7%BB%8D\" aria-label=\"ä¸€äº›èƒŒæ™¯ä»‹ç» permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ä¸€äº›èƒŒæ™¯ä»‹ç»</h3>\n<p>æˆ‘ä»¬çŸ¥é“, React å’Œ Babel æ˜¯äº’ç›¸ç¦»ä¸å¼€çš„, é¦–å…ˆ <code class=\"language-text\">JSX</code> éœ€è¦ Babel æ¥è½¬è¯‘, æ¯”å¦‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token operator\">=></span> React<span class=\"token punctuation\">.</span><span class=\"token function\">creataElement</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span></code></pre></div>\n<p>é™¤äº†è¿™ä¸ª, React å¯¹æ–°è¯­æ³•çš„ä¾èµ–ä¹Ÿè›®å¤§çš„, æ¯”å¦‚ <code class=\"language-text\">Object Spread</code> è¯­æ³•, è¿™ä¸ªåœ¨æœ€æ–°çš„æµè§ˆå™¨å’Œ Node ç¯å¢ƒå·²ç»æ”¯æŒäº†, ä½†æ˜¯è¿˜æ²¡æœ‰å®Œå…¨æˆä¸ºæ ‡å‡†, åº”è¯¥ä¼šåœ¨ä»Šå¹´çš„ ES9 æˆä¸ºæ ‡å‡†, æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯è¦ä¾èµ– Babel.\nè¿˜æœ‰ React ç»„ä»¶ä¸­å¤§é‡çš„ <code class=\"language-text\">this.setState</code>, åœ¨ JS ä¸­ <code class=\"language-text\">this</code> å¾ˆå®¹æ˜“ä¸¢å¤±, æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¾èµ–ç®­å¤´å‡½æ•°, ä½†æ˜¯åœ¨ <code class=\"language-text\">render</code> å¤§é‡ä½¿ç”¨ç®­å¤´å‡½æ•°åˆä¸æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯, ä¸€æ˜¯æ¯æ¬¡ render éƒ½ä¼šç”Ÿæˆæ–°çš„å‡½æ•°, è¿™åˆå¯¼è‡´ä¾èµ–è¿™ä¸ªå‡½æ•°ä½œä¸º <code class=\"language-text\">props</code> çš„ç»„ä»¶åˆä¸€æ¬¡è¢«æ¸²æŸ“.\nä¸€ä¸ªå¦¥åçš„æ–¹æ³•æ˜¯åœ¨ <code class=\"language-text\">constructor</code> ä¸­<strong>ä¸åŒå…¶çƒ¦</strong>çš„å†™ <code class=\"language-text\">this.foo = this.foo.bind(this)</code>\nå…ˆè§£é‡Šä¸€ä¸‹è¿™æ ·å¯è¡Œçš„åŸå› , åœ¨ <code class=\"language-text\">class</code> ä¸­, æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¯”å¦‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>è¿™ä¸ª foo å…¶å®æ˜¯å±äº <code class=\"language-text\">A.prototype</code> çš„, å¦‚æœè½¬è¯‘æˆ ES5 è¯­æ³•, å¤§æ¦‚ç±»ä¼¼äº</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span><span class=\"token constant\">A</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\tvalue<span class=\"token punctuation\">:</span> â€¦<span class=\"token punctuation\">,</span>\n\twriteable<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\tconfigurable<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\tenumerable<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>æ‰€ä»¥è¯´, ç­‰å·å³è¾¹çš„ <code class=\"language-text\">this.foo</code> å…¶å®å¼•ç”¨çš„æ˜¯åŸå‹çš„ foo, è¿™ä¸ªæ—¶å€™å†èµ‹å€¼ç»™ <code class=\"language-text\">this.foo</code> å…¶å®æ˜¯æ²¡æ¯›ç—…çš„, å› ä¸ºè¿™ä¸ªæ—¶å€™æ‰æ˜¯èµ‹ç»™ <code class=\"language-text\">this</code> è‡ªå·±.</p>\n<p>ä½†æ˜¯, å¦‚æœè¦æˆ‘ä»¬å†™è¿™ä¸ªæ— èŠçš„ä»£ç å‡ ç™¾æ¬¡çš„è¯, å°±å†ä¹Ÿä¸æƒ³å†™äº†. äºæ˜¯ä¹æœ‰ä¸€ç§æ–°çš„è¯­æ³•, è‹±æ–‡ä¼¼ä¹å«åš <code class=\"language-text\">Class Properties</code>, æ”¯æŒç›´æ¥ä½¿ç”¨ class è¯­æ³•å®šä¹‰å±æ€§, è€Œä¸åœ¨å±äº prototype. è¿™æ ·å°±å¯ä»¥å†™å‡º</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>çš„è¯­æ³•. äºæ˜¯æˆ‘ä»¬ä¸ä»…å¹²æ‰äº†, æ— èŠçš„ <code class=\"language-text\">bind</code>, è¿˜å¹²æ‰äº†æ•´ä¸ª <code class=\"language-text\">constructor</code>, å¤šé…·!!!\nè¿˜æœ‰ä¸€ç§è¯­æ³•, <code class=\"language-text\">::</code>, è¿™é‡Œä¸ä»‹ç».</p>\n<h3 id=\"babelrc\"><a href=\"#babelrc\" aria-label=\"babelrc permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>babelrc</h3>\n<p>é…ç½® babel ä¾èµ–äºä¸€ä¸ªå«åš <code class=\"language-text\">.babelrc</code>æ–‡ä»¶, åœ¨ VS Code ä¸­, å¦‚æœå®‰è£…äº†<strong>æ–‡ä»¶å›¾æ ‡ä¸»é¢˜</strong>çš„è¯, ä¸€æ—¦åˆ›å»º, ä¼šæœ‰ä¸€ä¸ªç‰¹å®šçš„ logo å›¾æ ‡æ¥å‘Šè¯‰æˆ‘ä»¬, æ²¡æœ‰æ‹¼é”™.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 350px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6e66289750658579d27318a94e357528/1bae2/F82820D6-9363-4A17-B637-C84FE7E037CE.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'139\\'%3e%3cpath%20d=\\'M0%2070v69h401V0H0v70m111-16c-8%204-22%2018-26%2025-4%208-4%2011-2%2015%202%205%208%205%2017%201%2013-5%2015-25%203-24-4%201-7%202-7%205h4c3-1%206%200%206%203%200%204-4%209-9%2011-20%2010-6-19%2015-32l5-4v-1c1-1%200-1-1-1l-5%202m51%2025c0%2013%200%2015%202%2015l1-2h2c5%204%2012%202%2014-3%204-12-6-23-14-15-2%201-2%201-2-5l-1-6c-2%200-2%202-2%2016m50%200c0%2013%200%2015%202%2015l1-1%201-2%202%202c2%202%208%201%2011-2%204-3%204-13%200-17-4-3-9-3-12-1-2%202-2%202-2-4l-1-6c-2%200-2%202-2%2016m50%200c0%2014%200%2015%202%2015s2-1%202-15c0-15%200-16-2-16s-2%201-2%2016m-70-7c-2%201-5%204-4%205l4-1c5-2%208-1%209%202%200%203%200%203-3%203-4%200-9%202-10%203-1%202-1%207%201%208%201%202%209%203%2010%201l2-1%201%201c-1%201%200%201%201%201%202%200%202-1%202-8%200-13-4-17-13-14m51%200c-6%203-8%2013-3%2019%202%203%203%203%207%203%205%200%2010-3%208-5h-3c-4%204-11%201-11-3%200-2%201-2%208-2h8l-1-3c-1-8-6-12-13-9m36%201h-3l-2-1-1%2011c0%2010%200%2011%202%2011s2-1%202-8c0-10%201-11%206-11l2-2c0-2-3-3-6%200m15%200c-6%203-8%2013-2%2018%203%204%2010%204%2014%200%203-3%201-6-2-2-5%205-12%201-12-6s7-11%2011-6c3%202%205%202%204-1-1-2-6-5-8-5l-5%202m-126%203c-2%201-3%206-2%209%202%209%2012%208%2012-2%200-6-5-10-10-7m49%201c-4%205-1%2014%205%2014%204%200%206-3%206-8%200-7-6-11-11-6\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          data-srcset=\"/static/6e66289750658579d27318a94e357528/f2fbe/F82820D6-9363-4A17-B637-C84FE7E037CE.webp 200w,\n/static/6e66289750658579d27318a94e357528/aa324/F82820D6-9363-4A17-B637-C84FE7E037CE.webp 350w\"\n          sizes=\"(max-width: 350px) 100vw, 350px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/6e66289750658579d27318a94e357528/9ec3c/F82820D6-9363-4A17-B637-C84FE7E037CE.png 200w,\n/static/6e66289750658579d27318a94e357528/1bae2/F82820D6-9363-4A17-B637-C84FE7E037CE.png 350w\"\n          sizes=\"(max-width: 350px) 100vw, 350px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image lazyload\"\n          data-src=\"/static/6e66289750658579d27318a94e357528/1bae2/F82820D6-9363-4A17-B637-C84FE7E037CE.png\"\n          alt=\"F82820D6 9363 4A17 B637 C84FE7E037CE\"\n          title=\"F82820D6 9363 4A17 B637 C84FE7E037CE\"\n        />\n      </picture>\n  </a>\n    </span>\né…ç½® react çš„æ–¹å¼, å…¶å®ååˆ†ç®€å•. é¦–å…ˆéœ€è¦è½¬è¯‘ JSX, ä½†æ˜¯ JSX çš„è½¬ç§»åˆä¾èµ–äº es2015, æ‰€ä»¥æˆ‘ä»¬ä¸¤ä¸ªéƒ½éœ€è¦è½¬è¯‘. æˆ‘å¹¶æ²¡æœ‰å¤šé•¿ babel ä½¿ç”¨ç»éªŒ, åæ­£ç°åœ¨æœ‰äº† <code class=\"language-text\">presets</code>, è€Œä¸”æ·˜æ±°äº† ES2015, ES2016 è¿™äº› presets, ç»Ÿä¸€ä½¿ç”¨ <code class=\"language-text\">env</code> preset, æ‰€ä»¥ babel çš„é…ç½®å˜æˆäº†ä¸‹é¢è¿™æ ·</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"env\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å¦‚æœæœ‰å½±å“çš„è¯, å…¶å®è¿˜æœ‰ä¸€ä¸ª <code class=\"language-text\">babel-preset-react-app</code>, å®ƒå’Œä¸Šé¢çš„ react çš„åŒºåˆ«å°±æ˜¯: react-app æ˜¯ä½¿ç”¨åœ¨ <code class=\"language-text\">create-react-app</code>ä¸­çš„é…ç½®, ç›¸æ¯” react ä¼šæœ‰ä¸€äº›åŠ æˆ, ä¸‹é¢ä¼šè®²åˆ°.</p>\n<p>OK, å…¶å®æœ‰äº†è¿™ä¸¤ä¸ªå°±èƒ½å†™ react äº†. è‡ªå·±å†™å¥½å¿…è¦çš„ç»„ä»¶, å’Œä¹‹å‰ä¸€æ ·ä½¿ç”¨ parcel å°±èƒ½å¯åŠ¨. ä½†æ˜¯, æˆ‘ä»¬è¿˜ä¸èƒ½ä½¿ç”¨åˆšåˆšæåˆ°çš„é‚£äº›æ–°è¯­æ³•. ç”šè‡³è¿ React å¤§é‡ä¾èµ–çš„ <code class=\"language-text\">{...obj}</code> ä¹Ÿä¸è¡Œ. è¿™ä¸ªæ—¶å€™å°±è¿˜éœ€è¦å®‰è£…æ–°çš„ preset: <code class=\"language-text\">stage-2 stage-3</code>\näºæ˜¯ä¹, ä¸ºäº†å®‰è£…è¿™äº›, æˆ‘ä»¬éœ€è¦è¿è¡Œ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D babel-preset-env babel-preset-react babel-preset-stage-2 babel-preset-stage-3</code></pre></div>\n<p>é‚£è¿™æ ·å°±èƒ½å¼€å¿ƒçš„å†™ React ä»£ç äº†å— ğŸ§ è¿˜ä¸è¡Œ, æˆ‘ç›®å‰ä¹Ÿæä¸æ¸…æ¥šä¸ºä»€ä¹ˆ, å†™ <code class=\"language-text\">async await</code>è¯, è¿˜æ˜¯ä¼šæŠ¥é”™, å°½ç®¡è¿™ä¸ªä¸»æµæµè§ˆå™¨å·²ç»éƒ½æ”¯æŒäº†. æ‰€ä»¥, æˆ‘åœ¨ Google äº†ä¸€ç•ªå, å‘ç°è¿˜éœ€è¦å®‰è£…ä¸€ä¸ª babel plugin.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D babel-plugin-transform-runtime</code></pre></div>\n<p>è€Œä¸”è¿™ä¸ª runtime çš„é…ç½®è›®å¤æ‚çš„, è¿™é‡Œä¸è¯¦ç»†ä»‹ç»äº†, å¤§æ¦‚æ˜¯è¿™æ ·.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"transform-runtime\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"polyfill\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"helpers\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>æ³¨æ„, è¿™æ®µä»£ç ç´§è·Ÿ babelrc ä¸­çš„ presets ä¹‹åå¦èµ·ä¸€è¡Œ.</p>\n<p>å½“å®Œå…¨äº†è¿™äº›ä¹‹åæˆ‘ä»¬å°±å¯ä»¥æ²¡æœ‰ä»»ä½•é—®é¢˜çš„å†™ React âš›ï¸ äº† ğŸ˜ğŸ˜</p>\n<hr>\n<h2 id=\"çƒ­åŠ è½½\"><a href=\"#%E7%83%AD%E5%8A%A0%E8%BD%BD\" aria-label=\"çƒ­åŠ è½½ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>çƒ­åŠ è½½</h2>\n<p>å½“æˆ‘ç¡®å®šæˆ‘è¦ä½¿ç”¨çƒ­åŠ è½½çš„æ—¶å€™, æ˜¯å› ä¸ºæˆ‘çœ‹äº† Dan çš„è§†é¢‘, ä»¥åŠä»–è¯´çš„ä¸€æ®µè¯</p>\n<blockquote>\n<p>I want to encourage you to actually spend time working on developer tools because before you can optimize your app, you should optimize your workflow so you have more time to spend working on your app. Because once enough frustration is gone, your programming actually feels fun again just like it used to do when the tools were simple.</p>\n</blockquote>\n<p>æœ€é‡è¦çš„æ„æ€å°±æ˜¯, èŠ±ç‚¹æ—¶é—´ç ”ç©¶ ğŸ”§ èƒ½ä¸ºæˆ‘ä»¬çœä¸‹æ›´å¤šçš„æ—¶é—´æé«˜è‡ªå·±. äºæ˜¯ä¹, æˆ‘å°±èŠ±äº†ä¸€ç‚¹æ—¶é—´, å—¯, ä¹Ÿä¸æ˜¯ä¸€ç‚¹, ä¸‰ä¸ªå°æ—¶å§. ç»ˆäºææ˜ç™½, æ€ä¹ˆåœ¨ parcel ä¸­ä½¿ç”¨äº†. å› ä¸ºå’Œå®˜æ–¹æ–‡æ¡£æœ‰ç‚¹åŒºåˆ«, parcel çš„æ–‡æ¡£ä»‹ç»çš„åˆååˆ†ç®€é™‹, å†åŠ ä¸Š parcel ç¼“å­˜çš„é—®é¢˜, æ‰€ä»¥è¢«å‘äº†å¾ˆä¹…. ä¸è¿‡ç»ˆäºè¿˜æ˜¯æå®šäº†. ä¸‹é¢æ€»ç»“ä¸€ä¸‹çƒ­åŠ è½½çš„é…ç½®.</p>\n<p><a href=\"https://github.com/gaearon/react-hot-loader\">react-hot-loader</a> ç”± <em>Dan gaearon</em> å¼€å‘å¹¶å¼€æº, å¯¹, å°±æ˜¯ redux çš„ä½œè€…, æ˜¯ä¸€ä¸ªç‰¹åˆ«å¸…çš„è‹±å›½ä½¬. å½“ç„¶è¿™ä¸æ˜¯æˆ‘ä»¬è®¨è®ºçš„é‡ç‚¹, ç›®å‰ä½¿ç”¨çš„æ˜¯ V3 ç‰ˆæœ¬, V4 åœ¨é…ç½®ä¸Šæœ‰éå¸¸å¤§çš„æå‡, ä½†æ˜¯å› ä¸º parcel ä¸å…¼å®¹è¿™ä¸ª. æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨ä¸»æµçš„é…ç½®.</p>\n<p>æ–‡æ¡£è¯¥è¯´çš„éƒ½è¯´äº†, ä¸‹é¢åªé’ˆå¯¹åœ¨ parcel ä¸Šè¯¥æ€ä¹ˆç”¨æ¥è§£é‡Š.\nè¿˜æ˜¯å®‰è£…å®ƒ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D react-hot-loader</code></pre></div>\n<p>ä¹‹ååœ¨ <code class=\"language-text\">babelrc</code> ä¸­çš„ plugins ä¸­é…ç½®. æœ€ç»ˆçš„ç‰ˆæœ¬ä¸º:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"env\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"stage-2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"stage-3\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"transform-runtime\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"polyfill\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"helpers\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">\"react-hot-loader/babel\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>è¿˜æ²¡å®Œ, æ¥ä¸‹æ¥åªè¦åœ¨ <code class=\"language-text\">index.js</code> åšä¸€äº›å°æ“ä½œ, å°±å¯ä»¥å¼€å§‹äº†.\n<code class=\"language-text\">index.js</code> ä¸€èˆ¬ä½œä¸ºå…¥å£ç‚¹, æ¢å¥è¯è¯, è¿™é‡Œåº”è¯¥æ˜¯ä½ æ•´ä¸ªé¡¹ç›®é…ç½®çš„åœ°æ–¹, ä¹Ÿæ˜¯ <code class=\"language-text\">ReactDOM.render</code>è°ƒç”¨çš„åœ°æ–¹, åŒæ—¶ä¹Ÿæ˜¯ä½ çš„ html æ–‡ä»¶, åº”è¯¥å¼•ç”¨çš„ JS æ–‡ä»¶.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppContainer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-hot-loader'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'react-hot-loader/patch'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">render</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">Component</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>AppContainer<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Component <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>AppContainer<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#root'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span>hot<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>è¿™æ˜¯ä»£ç çš„å¿…å¤‡æˆåˆ†, <code class=\"language-text\">App</code> å°±æ˜¯ä½ æ‰€æœ‰ä»£ç çš„åˆæˆçš„ç»„ä»¶, render å‡½æ•°æ— éå°±æ˜¯ä¸€ä¸ªå°å°çš„åŒ…è£…. è€Œ <code class=\"language-text\">AppContainer</code> å°±æ˜¯æ•´ä¸ªçƒ­åŠ è½½çš„<strong>èƒ½é‡æºæ³‰</strong>. è€Œ <code class=\"language-text\">module.hot.accept</code> é‡Œçš„å›è°ƒ, å°±æ˜¯æ•´ä¸ªæºæ³‰çš„èƒ½é‡ä½¿ç”¨è€….\nå’Œæ–‡æ¡£ä¸­ä¸ä¸€æ ·çš„æ˜¯, æ–‡æ¡£ä¸­ <code class=\"language-text\">accept</code> æ¥å—ä¸¤ä¸ªå‚æ•°, ç¬¬äºŒä¸ªæ‰æ˜¯å›è°ƒ. ä¹Ÿæ˜¯æˆ‘ä¸€ç›´è¢«å‘çš„åœ°æ–¹, å¯èƒ½æ˜¯å› ä¸º parcel é’ˆå¯¹è¿™ä¸ªåšäº†æŸäº›å°å°çš„ä¼˜åŒ–å§.</p>\n<p>è¿™äº›éƒ½å†™å¥½äº†, å°±å¯ä»¥å¼€å§‹<strong>çƒ­åŠ è½½</strong>ä¹‹æ—…äº†!\né‚£æ€ä¹ˆçŸ¥é“è‡ªå·±çš„çƒ­åŠ è½½æ˜¯å¦æˆåŠŸäº†å‘¢? ä¹‹å‰æåˆ°è¿‡, çƒ­åŠ è½½çš„å‰ææ˜¯ä¸ç”¨åˆ·æ–°ç•Œé¢, å› ä¸ºåˆ·æ–°çš„è¯å°±ä¼šä¸¢å¤±æ‰€æœ‰çš„çŠ¶æ€å’¯. æ‰€ä»¥æˆåŠŸçš„å…³é”®å°±æ˜¯<strong>çŠ¶æ€æ²¡æœ‰ä¸¢å¤±</strong>.</p>\n<p>ä¸è¿‡è¿™å¥è¯ä¸æ˜¯é‚£ä¹ˆçš„æ˜æ˜¾ ğŸ™‚, å…¶å®æ¯”è¾ƒçš„æ˜æ˜¾çš„æ£€æµ‹æ–¹æ³•å°±æ˜¯:\næœ‰ä¸€ä¸ª input å’Œä»»æ„çš„ label. å¦‚æœæˆ‘ä»¬ input ä¸­å¡«å†™äº†æŸäº›ä¿¡æ¯, å†å» label ä¸­ä¿®æ”¹, input ä¸­çš„æ•°æ®æ²¡æœ‰ä¸¢å¤±çš„è¯, å°±è¯´æ˜çƒ­åŠ è½½æˆåŠŸäº†. è¿™çœŸçš„å¾ˆé‡è¦, åœ¨å†™è¡¨å•ç±»ä¼¼çš„ç¨‹åºçš„æ—¶å€™, æˆ‘ä»¬éœ€è¦ä¸æ–­çš„è¾“å…¥ç„¶ååˆ·æ–°, å…‰å…‰è¿™ä¸ªæ—¶é—´å°±ä¸çŸ¥é“è¢«æµªè´¹äº†å¤šå°‘.</p>\n<p>è¡¥å……ï¼šè¿™ä¸ªçƒ­åŠ è½½ä¼¼ä¹ä¼šå¼•å…¥ä¸€ä¸ª bug</p>\n<blockquote>\n<p>æ— æ³•åœ¨ <code class=\"language-text\">async</code> å‡½æ•°ä¸­æ‰¾åˆ° <code class=\"language-text\">this</code>\næˆ‘ä¸å¤ªæ¸…æ¥šè¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Œåœ¨ä¸éœ€è¦é‡åº¦ä¾èµ– async çš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚å¦å¤–ï¼Œä¼°è®¡ v4 ç‰ˆæœ¬å·²ç»è§£å†³äº†è¿™ä¸ªé—®é¢˜å§ã€‚æ„Ÿè°¢å¼€æºè®©ç”Ÿæ´»æ›´ç¾å¥½, ä¹Ÿè®©æˆ‘ä»¬çŸ¥é“ç‰›é€¼çš„ç¨‹åºå‘˜åˆ°å¤„éƒ½æ˜¯.</p>\n</blockquote>","frontmatter":{"title":"Parcel ğŸ“¦ å’Œ React âš›ï¸ çš„ä½¿ç”¨","spoiler":"ä½ ä¹Ÿç”¨ parcel?","date":"2018/01/07"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/parcel/Parcel ğŸ“¦ å’Œ React âš›ï¸ çš„ä½¿ç”¨/","previous":{"fields":{"slug":"/uuid/UUID/"},"frontmatter":{"title":"UUID","spoiler":null}},"next":{"fields":{"slug":"/åè½¬å­—ç¬¦ä¸²/"},"frontmatter":{"title":"åè½¬å­—ç¬¦ä¸²","spoiler":null}}}}}